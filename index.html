<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>BT/EE HomeTech Interaction Note Helper</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Raleway', sans-serif;
      margin: 20px;
      transition: all 0.3s ease;
      position: relative;
    }

    /* Theme styles */
    body.ee-theme {
      background-color: white;
      color: #003F2D;
    }

    body.ee-theme textarea,
    body.ee-theme input[type="text"] {
      border: 2px solid #019ba5;
      background-color: #ffffff;
    }

    body.ee-theme button {
      background-color: #019ba5;
      color: white;
      border: none;
    }

    body.ee-theme .quick-link {
      background-color: #019ba5;
      color: white;
      border: 1px solid #017a82;
    }

    body.ee-theme .quick-link:hover {
      background-color: #017a82;
    }

    body.ee-theme fieldset {
      border: 2px solid #edf33b;
    }

    body.bt-theme {
      background-color: white;
      color: #2E004F;
    }

    body.bt-theme textarea,
    body.bt-theme input[type="text"] {
      border: 2px solid #5614b4;
      background-color: #ffffff;
    }

    body.bt-theme button {
      background-color: #5614b4;
      color: white;
      border: none;
    }

    body.bt-theme .quick-link {
      background-color: #5614b4;
      color: white;
      border: 1px solid #441096;
    }

    body.bt-theme .quick-link:hover {
      background-color: #441096;
    }

    body.bt-theme fieldset {
      border: 2px solid #ff64fe;
    }

    /* Household Solutions Styles */
    .household-solutions {
      position: absolute;
      top: 10px;
      right: 10px;
      width: 200px;
      height: 120px;
      z-index: 1000;
    }

    .household-solutions-trigger {
      background: none;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
      padding: 0;
      width: 100%;
      height: 100%;
    }

    .household-solutions-trigger img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      border-radius: 8px;
    }

    .household-solutions-trigger:hover img {
      transform: scale(1.02);
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    }

    .household-solutions-panel {
      display: none;
      background: white;
      border: 2px solid #019ba5;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 8px 30px rgba(0,0,0,0.15);
      max-height: 70vh;
      overflow-y: auto;
      position: absolute;
      top: 0;
      right: 0;
      width: 350px;
      box-sizing: border-box;
    }

    body.bt-theme .household-solutions-panel {
      border-color: #5614b4;
    }

    .household-solutions-panel h3 {
      margin: 0 0 15px 0;
      color: #019ba5;
      font-size: 16px;
      text-align: center;
      border-bottom: 2px solid #019ba5;
      padding-bottom: 10px;
    }

    body.bt-theme .household-solutions-panel h3 {
      color: #5614b4;
      border-bottom-color: #5614b4;
    }

    /* Navigation buttons */
    .nav-buttons {
      display: flex;
      gap: 10px;
      margin-bottom: 15px;
    }

    .nav-back {
      background: #6c757d;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
    }

    .nav-back:hover {
      background: #5a6268;
    }

    .close-household-solutions {
      position: absolute;
      top: 8px;
      right: 12px;
      background: none;
      border: none;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      color: #666;
      width: 25px;
      height: 25px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
    }

    .close-household-solutions:hover {
      color: #333;
      background-color: #f0f0f0;
    }

    /* Steps */
    .hs-step {
      display: none;
    }

    .hs-step.active {
      display: block;
    }

    /* Main menu buttons */
    .main-menu-buttons {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-bottom: 20px;
    }

    .menu-button {
      background: #019ba5;
      color: white;
      border: none;
      padding: 12px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      transition: background 0.2s;
    }

    body.bt-theme .menu-button {
      background: #5614b4;
    }

    .menu-button:hover {
      background: #017a82;
    }

    body.bt-theme .menu-button:hover {
      background: #441096;
    }

    /* Content sections */
    .hs-content {
      margin-bottom: 15px;
    }

    .hs-content ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .hs-content li {
      background: #f8f9fa;
      margin-bottom: 8px;
      padding: 10px;
      border-radius: 5px;
      border-left: 3px solid #019ba5;
      font-size: 14px;
      line-height: 1.4;
    }

    body.bt-theme .hs-content li {
      border-left-color: #5614b4;
    }

    /* Pushbacks specific styling */
    .pushback-item {
      margin-bottom: 12px;
    }

    .pushback-title {
      font-weight: bold;
      color: #019ba5;
      margin-bottom: 4px;
    }

    body.bt-theme .pushback-title {
      color: #5614b4;
    }

    .pushback-solution {
      font-weight: normal;
      color: #333;
    }

    /* Benefits section */
    .benefits-section {
      border-top: 2px solid #019ba5;
      padding-top: 15px;
      margin-top: 15px;
    }

    body.bt-theme .benefits-section {
      border-top-color: #5614b4;
    }

    .benefits-dropdown {
      background: none;
      border: 1px solid #019ba5;
      color: #019ba5;
      padding: 8px 12px;
      border-radius: 5px;
      cursor: pointer;
      width: 100%;
      text-align: left;
      font-size: 14px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    body.bt-theme .benefits-dropdown {
      border-color: #5614b4;
      color: #5614b4;
    }

    .benefits-dropdown:hover {
      background: #f8f9fa;
    }

    .benefits-content {
      display: none;
      margin-top: 10px;
    }

    .benefits-content.show {
      display: block;
    }

    .benefits-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
    }

    .benefit-item {
      background: #f8f9fa;
      padding: 8px;
      border-radius: 4px;
      font-size: 12px;
      text-align: center;
      border-left: 3px solid #019ba5;
    }

    body.bt-theme .benefit-item {
      border-left-color: #5614b4;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .household-solutions {
        position: static;
        width: 100%;
        margin-bottom: 20px;
      }

      .household-solutions-panel {
        width: 100%;
      }

      .main-menu-buttons {
        grid-template-columns: 1fr;
      }
    }

    .container {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      margin-top: 20px;
    }

    .main {
      flex: 1;
      min-width: 300px;
    }

    .extra {
      width: 350px;
    }

    textarea,
    input[type="text"] {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      font-size: 16px;
      box-sizing: border-box;
    }

    button {
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      margin-right: 10px;
      box-sizing: border-box;
    }

    .quick-links-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
      margin: 10px 0;
    }

    .quick-link {
      padding: 8px 12px;
      font-size: 13px;
      text-decoration: none;
      border-radius: 4px;
      text-align: center;
      cursor: pointer;
      transition: all 0.2s ease;
      display: block;
      font-weight: 500;
    }

    .quick-link:hover {
      transform: translateY(-1px);
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    #output {
      white-space: pre-wrap;
      background: #f5f5f5;
      padding: 15px;
      border: 2px solid #019ba5;
      border-radius: 8px;
      margin-top: 10px;
      min-height: 100px;
      font-family: 'Raleway', sans-serif;
      font-size: 14px;
    }

    body.bt-theme #output {
      border-color: #5614b4;
    }

    #recap {
      white-space: pre-wrap;
      background: #f5f5f5;
      padding: 15px;
      border: 2px solid #edf33b;
      border-radius: 8px;
      margin-top: 10px;
      min-height: 100px;
      font-family: 'Raleway', sans-serif;
      font-size: 14px;
    }

    body.bt-theme #recap {
      background: #f5f5f5;
      border-color: #ff64fe;
    }

    #recap strong {
      font-weight: bold;
    }

    .output-container {
      display: flex;
      gap: 20px;
      align-items: flex-start;
      margin-top: 20px;
    }

    .output-box {
      flex: 1;
    }

    .output-header {
      font-weight: bold;
      margin-bottom: 10px;
      font-size: 16px;
    }

    .formatted-note-header {
      color: #019ba5;
    }

    body.bt-theme .formatted-note-header {
      color: #5614b4;
    }

    .recap-header {
      color: #edf33b;
    }

    body.bt-theme .recap-header {
      color: #ff64fe;
    }

    label {
      font-weight: bold;
    }

    .checkin-row,
    .validation-row,
    .initials-row {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 15px;
    }

    input[type="radio"],
    input[type="checkbox"] {
      width: 22px;
      height: 22px;
      cursor: pointer;
      vertical-align: middle;
      margin-right: 6px;
    }

    .checkin-row input[type="text"] {
      flex: 1;
    }

    .initials-row input[type="text"] {
      width: 60px;
      flex: none;
    }

    .button-row {
      display: flex;
      gap: 10px;
      margin-bottom: 10px;
    }

    select {
      padding: 5px;
      font-size: 16px;
      margin-left: 10px;
    }

    .validation-guide,
    .shortcuts-guide {
      margin-top: 15px;
      margin-bottom: 15px;
      background: white;
      border: 2px solid #019ba5;
      border-radius: 8px;
      padding: 15px;
      display: none;
      position: relative;
    }

    body.bt-theme .validation-guide,
    body.bt-theme .shortcuts-guide {
      border-color: #5614b4;
    }

    .validation-guide h3,
    .shortcuts-guide h3 {
      margin-top: 0;
      margin-bottom: 15px;
      color: #019ba5;
      font-size: 18px;
    }

    body.bt-theme .validation-guide h3,
    body.bt-theme .shortcuts-guide h3 {
      color: #5614b4;
    }

    .validation-section {
      margin-bottom: 15px;
      padding: 12px;
      background-color: #f8f9fa;
      border-radius: 6px;
      border-left: 3px solid #019ba5;
    }

    body.bt-theme .validation-section {
      border-left-color: #5614b4;
    }

    .validation-section:last-child {
      margin-bottom: 0;
    }

    .validation-section h4 {
      margin: 0 0 8px 0;
      color: #333;
      font-size: 14px;
      font-weight: bold;
    }

    .validation-section ul {
      margin: 0;
      padding-left: 18px;
    }

    .validation-section li {
      margin-bottom: 4px;
      font-size: 13px;
    }

    .shortcuts-list {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
      margin: 10px 0;
    }

    .shortcut-item {
      display: flex;
      align-items: center;
      padding: 8px;
      background-color: #f8f9fa;
      border-radius: 4px;
      border-left: 3px solid #019ba5;
      font-size: 13px;
    }

    body.bt-theme .shortcut-item {
      border-left-color: #5614b4;
    }

    .shortcut-key {
      font-weight: bold;
      color: #019ba5;
      margin-right: 8px;
      min-width: 40px;
    }

    body.bt-theme .shortcut-key {
      color: #5614b4;
    }

    .shortcut-value {
      color: #333;
    }

    .close-guide {
      position: absolute;
      top: 8px;
      right: 12px;
      background: none;
      border: none;
      font-size: 20px;
      font-weight: bold;
      cursor: pointer;
      color: #666;
      width: 25px;
      height: 25px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
    }

    .close-guide:hover {
      color: #333;
      background-color: #f0f0f0;
    }
  </style>

  <script>
    // Define all functions first
    function openHouseholdSolutions() {
      document.getElementById('householdSolutionsPanel').style.display = 'block';
    }

    function closeHouseholdSolutions() {
      document.getElementById('householdSolutionsPanel').style.display = 'none';
      showSection('main');
    }

    function showSection(sectionName) {
      const steps = document.querySelectorAll('.hs-step');
      steps.forEach(step => step.classList.remove('active'));
      document.getElementById('hs-' + sectionName).classList.add('active');
    }

    function toggleBenefits() {
      const benefitsContent = document.getElementById('benefitsContent');
      const arrow = document.getElementById('benefitsArrow');

      if (benefitsContent.classList.contains('show')) {
        benefitsContent.classList.remove('show');
        arrow.textContent = '▼';
      } else {
        benefitsContent.classList.add('show');
        arrow.textContent = '▲';
      }
    }

    function showValidationGuide() {
      document.getElementById('validationGuide').style.display = 'block';
    }

    function closeValidationGuide() {
      document.getElementById('validationGuide').style.display = 'none';
    }

    function showShortcutsGuide() {
      document.getElementById('shortcutsButton').style.display = 'none';
      document.getElementById('shortcutsGuide').style.display = 'block';
    }

    function closeShortcutsGuide() {
      document.getElementById('shortcutsGuide').style.display = 'none';
      document.getElementById('shortcutsButton').style.display = 'inline-block';
    }

    function clearAll() {
      document.getElementById('issue').value = '';
      document.getElementById('actions').value = '';
      document.getElementById('results').value = '';
      document.getElementById('next').value = '';
      document.getElementById('extra').value = '';
      document.getElementById('checkin').checked = false;
      document.getElementById('linknetflix').checked = false;
      document.getElementById('powersupply').checked = false;
      document.getElementById('blankbox').value = '';
      document.getElementById('number').value = '';
      document.getElementById('valNone').checked = false;
      document.getElementById('valThirdParty').checked = false;
      document.getElementById('valAccountHolder').checked = false;
      document.getElementById('thirdPartyName').value = '';
      updateValidationDisplay();
      updateFormattedNote();
    }

    // Single source of truth for shortcuts
    const shortcuts = {
      "adv": "advised",
      "ah": "account holder", 
      "appt": "appointment",
      "bb": "broadband",
      "bk": "booked",
      "cfg": "configured",
      "chk": "checked",
      "conn": "connection",
      "cust": "customer",
      "cx": "customer",
      "dv": "digital voice",
      "eng": "engineer",
      "engr": "engineer",
      "escal": "escalated",
      "et": "estimated time",
      "eta": "estimated time of arrival",
      "etr": "estimated time resolved",
      "fr": "factory reset",
      "hc": "home checks completed",
      "hw": "hardware",
      "inhome": "in-home tech expert",
      "nfa": "no further action",
      "nw": "network",
      "pponr": "past the point of no return",
      "reb": "rebooted",
      "rep": "replaced",
      "res": "resolution",
      "rtr": "router",
      "sa": "smart assistant",
      "sip": "SIP regen completed",
      "sw": "software"
    };

    function populateShortcutsDisplay() {
      const shortcutsList = document.getElementById('shortcutsList');
      shortcutsList.innerHTML = '';

      Object.entries(shortcuts).forEach(([key, value]) => {
        const shortcutDiv = document.createElement('div');
        shortcutDiv.className = 'shortcut-item';
        shortcutDiv.innerHTML = `
          <span class="shortcut-key">${key}</span>
          <span class="shortcut-value">${value}</span>
        `;
        shortcutsList.appendChild(shortcutDiv);
      });
    }

    function updateValidationDisplay() {
      const thirdPartyRow = document.getElementById('thirdPartyRow');
      if (document.getElementById('valThirdParty').checked) {
        thirdPartyRow.style.display = 'flex';
      } else {
        thirdPartyRow.style.display = 'none';
        document.getElementById('thirdPartyName').value = '';
      }
    }

    function expandShorthand(text) {
      return text.replace(/\b\w+\b/g, word => {
        const lower = word.toLowerCase();
        return shortcuts[lower] || word;
      });
    }

    function toSentenceCase(text) {
      return text.toLowerCase().replace(/(^\s*\w|[\.\!\?]\s*\w)/g, c => c.toUpperCase());
    }

    function getValidationLabel() {
      if (document.getElementById('valNone').checked) return "Did not pass security validation; general queries.";
      if (document.getElementById('valThirdParty').checked) {
        const thirdPartyName = document.getElementById('thirdPartyName').value.trim();
        return thirdPartyName ? `Spoke to third party: ${thirdPartyName}.` : "Spoke to third party.";
      }
      if (document.getElementById('valAccountHolder').checked) return "Spoke to account holder, highly validated.";
      return "";
    }

    function updateFormattedNote() {
      const initialsValue = document.getElementById('initials').value.trim();
      const initials = initialsValue || "";
      const rawIssue = document.getElementById('issue').value.trim();
      const rawActions = document.getElementById('actions').value.trim();
      const rawResults = document.getElementById('results').value.trim();
      const rawNext = document.getElementById('next').value.trim();

      // Clear outputs if no content
      if (!rawIssue && !rawActions && !rawResults && !rawNext) {
        document.getElementById('output').textContent = '';
        document.getElementById('recap').textContent = '';
        return;
      }

      const validationLabel = getValidationLabel();
      const checkinChecked = document.getElementById('checkin').checked;
      const linknetflixChecked = document.getElementById('linknetflix').checked;
      const powersupplyChecked = document.getElementById('powersupply').checked;
      const blankboxValue = document.getElementById('blankbox').value.trim();
      const number = document.getElementById('number').value.trim();

      // Formatted Note - only include filled fields
      let note = initials ? `${initials}@HomeTech` : "HomeTech";
      
      if (validationLabel) {
        note += `\n${validationLabel}`;
      }

      if (rawIssue) {
        const issueExpanded = expandShorthand(rawIssue);
        const issue = toSentenceCase(issueExpanded);
        note += `\nIssues - ${issue}`;
      }

      if (rawActions) {
        const actionsExpanded = expandShorthand(rawActions);
        const actions = toSentenceCase(actionsExpanded);
        note += `\nSteps Taken - ${actions}`;
      }

      if (rawResults) {
        const resultsExpanded = expandShorthand(rawResults);
        const results = toSentenceCase(resultsExpanded);
        note += `\nResults - ${results}`;
      }

      if (rawNext) {
        const nextExpanded = expandShorthand(rawNext);
        const next = toSentenceCase(nextExpanded);
        note += `\nNext Steps - ${next}`;
      }

      // Build hashtag line
      let hashtagLine = '';
      if (checkinChecked && number) {
        hashtagLine += `#checkin`;
        
        // Add other hashtags between checkin and number
        if (linknetflixChecked) {
          hashtagLine += ` #linknetflix`;
        }
        if (powersupplyChecked) {
          hashtagLine += ` #powersupply`;
        }
        if (blankboxValue) {
          hashtagLine += ` #${blankboxValue}`;
        }
        
        hashtagLine += ` #${number}`;
      }

      if (hashtagLine) {
        note += `\n${hashtagLine}`;
      }

      document.getElementById('output').textContent = note;

      // Recap Note - only generate if we have issue
      if (rawIssue) {
        const issueExpanded = expandShorthand(rawIssue);
        const issue = toSentenceCase(issueExpanded);
        
        let recap = `In regards to the issues you had:\n${issue}`;
        
        if (rawActions) {
          const actionsExpanded = expandShorthand(rawActions);
          const actions = toSentenceCase(actionsExpanded);
          recap += `\n\nI've taken the steps:\n${actions}`;
        }

        if (rawResults) {
          const resultsExpanded = expandShorthand(rawResults);
          const results = toSentenceCase(resultsExpanded);
          recap += `\n\nAnd from this we have:\n${results}`;
        }

        recap += `\n\nHOUSEHOLD SOLUTIONS\n\nIs there anything else I can help you with?\nGreat, I'll go ahead and close that complaint.`;

        document.getElementById('recap').textContent = recap;
      } else {
        document.getElementById('recap').textContent = '';
      }
    }

    // Initialize everything when DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
      const fieldsToWatch = ['initials', 'issue', 'actions', 'results', 'next', 'number', 'thirdPartyName', 'blankbox'];
      fieldsToWatch.forEach(id => {
        document.getElementById(id).addEventListener('input', updateFormattedNote);
      });

      document.getElementById('checkin').addEventListener('change', updateFormattedNote);
      document.getElementById('linknetflix').addEventListener('change', updateFormattedNote);
      document.getElementById('powersupply').addEventListener('change', updateFormattedNote);

      document.getElementById('valNone').addEventListener('change', function() {
        updateValidationDisplay();
        updateFormattedNote();
      });

      document.getElementById('valThirdParty').addEventListener('change', function() {
        updateValidationDisplay();
        updateFormattedNote();
      });

      document.getElementById('valAccountHolder').addEventListener('change', function() {
        updateValidationDisplay();
        updateFormattedNote();
      });

      document.getElementById('directoryLink').addEventListener('click', function(e) {
        setTimeout(() => {
          showValidationGuide();
        }, 100);
      });

      document.getElementById('themeSelect').addEventListener('change', function () {
        const theme = this.value;
        document.body.classList.remove('bt-theme', 'ee-theme');
        document.body.classList.add(`${theme}-theme`);
      });

      // Initialize
      document.body.classList.add('ee-theme');
      populateShortcutsDisplay();
      updateFormattedNote();
    });
  </script>
</head>
<body class="ee-theme">

<!-- Household Solutions Widget -->
<div class="household-solutions">
  <button class="household-solutions-trigger" onclick="openHouseholdSolutions()">
     <img src="images/household_solutions.jpg" alt="Household Solutions">
  </button>

  <div class="household-solutions-panel" id="householdSolutionsPanel">
    <button class="close-household-solutions" onclick="closeHouseholdSolutions()">×</button>

    <!-- Main Menu Step -->
    <div class="hs-step active" id="hs-main">
      <h3>Household Solutions</h3>

      <div class="main-menu-buttons">
        <button class="menu-button" onclick="showSection('otp')">OTP/Mobile</button>
        <button class="menu-button" onclick="showSection('broadband')">Broadband</button>
        <button class="menu-button" onclick="showSection('tv')">TV/Sports</button>
        <button class="menu-button" onclick="showSection('landline')">Landline/Digital Voice</button>
        <button class="menu-button" onclick="showSection('pushbacks')" style="grid-column: 1 / -1;">Pushbacks</button>
      </div>
    </div>

    <!-- OTP/Mobile Section -->
    <div class="hs-step" id="hs-otp">
      <div class="nav-buttons">
        <button class="nav-back" onclick="showSection('main')">← Back</button>
      </div>

      <h3>OTP/Mobile</h3>

      <div class="hs-content">
        <ul>
          <li>Who is your mobile with?</li>
          <li>Are you with us for your mobile?</li>
          <li>What's your mobile coverage like?</li>
        </ul>
      </div>
    </div>

    <!-- Broadband Section -->
    <div class="hs-step" id="hs-broadband">
      <div class="nav-buttons">
        <button class="nav-back" onclick="showSection('main')">← Back</button>
      </div>

      <h3>Broadband</h3>

      <div class="hs-content">
        <ul>
          <li>Do you have a broadband backup?</li>
          <li>Do you have a way you can stay connected?</li>
          <li>While we're looking at your broadband, I just want to flag something that could help if your connection ever drops. You are entitled to discounts on a mobile SIM plan for unlimited data that can act as a backup at home. Some customers find it really useful.</li>
          <li>Whilst you're waiting on this fix, do you have another way to stay online? I can offer you a discounted SIM with unlimited data that can act as a backup. You might find it useful.</li>
          <li>I know waiting for an engineer can be frustrating. I can offer you a discounted EE SIM plan so you can keep working whilst waiting for the appointment.</li>
          <li>I see you use a lot of devices on WiFi. Some customers pair their broadband with an EE SIM for backup, so heavy downloads or streaming aren't interrupted. You are eligible for a discount on unlimited data plans with EE.</li>
        </ul>
      </div>
    </div>

    <!-- TV/Sports Section -->
    <div class="hs-step" id="hs-tv">
      <div class="nav-buttons">
        <button class="nav-back" onclick="showSection('main')">← Back</button>
      </div>

      <h3>TV/Sports</h3>

      <div class="hs-content">
        <ul>
          <li>I see you have a sports package. If you want to keep up with sports on the go, you can use the Discovery+ app using an EE SIM plan with unlimited data. BT customers get a discount.</li>
          <li>If you ever want to watch your shows without interruption, an unlimited data SIM can act as backup.</li>
          <li>If you want to watch TV in other rooms, an EE SIM plan can let you stream your shows on a tablet or phone anywhere in the house.</li>
          <li>What do you like to watch? ... Even if you don't use a mobile, having a SIM plan with unlimited data can be like a backup for your TV. If your broadband goes down, you can still watch ___</li>
        </ul>
      </div>
    </div>

    <!-- Landline/Digital Voice Section -->
    <div class="hs-step" id="hs-landline">
      <div class="nav-buttons">
        <button class="nav-back" onclick="showSection('main')">← Back</button>
      </div>

      <h3>Landline/Digital Voice</h3>

      <div class="hs-content">
        <ul>
          <li>Have you thought about getting a backup for your landline so you always stay connected? You can get a discount as you're a BT customer.</li>
          <li>In the unlikely case your landline does stop working, have you thought about a backup for emergency calls? You can get a great discount on mobile as a BT customer.</li>
          <li>I can suggest a backup line so you won't be left without service if this happens again. From just £11.50 a month.</li>
        </ul>
      </div>
    </div>

    <!-- Pushbacks Section -->
    <div class="hs-step" id="hs-pushbacks">
      <div class="nav-buttons">
        <button class="nav-back" onclick="showSection('main')">← Back</button>
      </div>

      <h3>Pushbacks</h3>

      <div class="hs-content">
        <div class="pushback-item">
          <div class="pushback-title">Already with EE</div>
          <div class="pushback-solution">Explor the home. Is it Pay As You Go/Contract?</div>
        </div>

        <div class="pushback-item">
          <div class="pushback-title">In contract</div>
          <div class="pushback-solution">How long? Explore the home. If customer doesn't know, pass to new sales</div>
        </div>

        <div class="pushback-item">
          <div class="pushback-title">Pays less</div>
          <div class="pushback-solution">Ask what they use, be curious, don't mention price, use benefits</div>
        </div>

        <div class="pushback-item">
          <div class="pushback-title">Coverage</div>
          <div class="pushback-solution">Do not check coverage. Explain new masts built regularly.</div>
        </div>

        <div class="pushback-item">
          <div class="pushback-title">Doesn't use mobile</div>
          <div class="pushback-solution">Ask what they use/pay, be curious.</div>
        </div>

        <div class="pushback-item">
          <div class="pushback-title">Not interested</div>
          <div class="pushback-solution">Acknowledge, but go straight into offers</div>
        </div>

        <div class="pushback-item">
          <div class="pushback-title">Roaming</div>
          <div class="pushback-solution">We offer similar packages that include roaming</div>
        </div>

        <div class="pushback-item">
          <div class="pushback-title">Bad experience</div>
          <div class="pushback-solution">Explain mobile uses signal and not the same as broadband</div>
        </div>
      </div>
    </div>

    <!-- Benefits Section (Always visible at bottom) -->
    <div class="benefits-section">
      <button class="benefits-dropdown" onclick="toggleBenefits()">
        <span>The Benefits</span>
        <span id="benefitsArrow">▼</span>
      </button>

      <div class="benefits-content" id="benefitsContent">
        <div class="benefits-grid">
          <div class="benefit-item">Stay connected using tethering and hotspots</div>
          <div class="benefit-item">From £11.50 each month</div>
          <div class="benefit-item">No contract, cancel anytime</div>
          <div class="benefit-item">Unlimited data to secure connection if broadband goes down</div>
          <div class="benefit-item">Savings</div>
          <div class="benefit-item">Everything under one umbrella</div>
        </div>
      </div>
    </div>

  </div>
</div>

<!-- End of Household Solutions -->

<h2>BT/EE HomeTech Interaction Note Helper</h2>

<!-- Theme selector -->
<div style="margin-bottom: 15px;">
  <label for="themeSelect"><strong>Theme:</strong></label>
  <select id="themeSelect">
    <option value="ee" selected>EE</option>
    <option value="bt">BT</option>
  </select>
</div>

<!-- Initials Row -->
<div class="initials-row">
  <label for="initials">Initials:</label>
  <input type="text" id="initials" maxlength="5">
  <button onclick="clearAll()" style="margin-left: 60px; transform: translateY(-8px);">CLEAR</button>
</div>

<!-- Validation Row -->
<div class="validation-row">
  <label>Validation:</label>
  <input type="radio" name="validation" id="valNone">
  <label for="valNone">None</label>
  <input type="radio" name="validation" id="valThirdParty">
  <label for="valThirdParty">Third Party</label>
  <input type="radio" name="validation" id="valAccountHolder">
  <label for="valAccountHolder">Account Holder</label>
</div>

<!-- Third Party Name Input (hidden by default) -->
<div id="thirdPartyRow" class="validation-row" style="display: none; margin-top: -10px; margin-left: 20px;">
  <label for="thirdPartyName">Name:</label>
  <input type="text" id="thirdPartyName" placeholder="Optional" style="width: 200px;">
</div>

<div class="container">
  <!-- Left side (Main form) -->
  <div class="main">
    <label for="issue">Issues Customer is Facing:</label>
    <textarea id="issue" rows="3"></textarea>

    <label for="actions">Steps Taken To Resolve Issues:</label>
    <textarea id="actions" rows="3"></textarea>

    <label for="results">Results from Steps Taken/Expectations for Customer:</label>
    <textarea id="results" rows="3"></textarea>

    <label for="next">The Next Guide Should (If Applicable):</label>
    <textarea id="next" rows="3"></textarea>

    <div class="checkin-row">
      <input type="checkbox" id="checkin">
      <label for="checkin">#checkin</label>
      <input type="text" id="number" placeholder="Phone number">
    </div>

    <div class="checkin-row">
      <input type="checkbox" id="linknetflix">
      <label for="linknetflix">#linknetflix</label>
      <input type="checkbox" id="powersupply">
      <label for="powersupply">#powersupply</label>
    </div>

    <div class="checkin-row">
      <label for="blankbox">#</label>
      <input type="text" id="blankbox" placeholder="Other hashtag">
    </div>

    <!-- Formatted Notes section -->
    <div class="output-container">
      <div class="output-box">
        <div class="output-header formatted-note-header">Formatted Note:</div>
        <div id="output"></div>
      </div>
      <div class="output-box">
        <div class="output-header recap-header">Recap:</div>
        <div id="recap"></div>
      </div>
    </div>

    <!-- Shortcuts Button -->
    <button id="shortcutsButton" onclick="showShortcutsGuide()" style="margin-top: 10px;">SHORTCUTS</button>

    <!-- Shortcuts Guide Box -->
    <div class="shortcuts-guide" id="shortcutsGuide">
      <button class="close-guide" onclick="closeShortcutsGuide()">×</button>
      <h3>Shortcuts Reference</h3>

      <div class="shortcuts-list" id="shortcutsList">
        <!-- Shortcuts will be populated by JavaScript -->
      </div>
    </div>
  </div>

  <!-- Right side (Extra info) -->
  <div class="extra">
    <label for="extra">Extra Info (not included in notes):</label>
    <textarea id="extra" rows="10" placeholder="Thank you for calling Home Tech in Newcastle. My name is __ and I will be your guide today. Can I start by taking your name please?

Outbound: All calls are recorded for training and monitoring purposes. "></textarea>

    <!-- Validation Guide Box -->
    <div class="validation-guide" id="validationGuide">
      <button class="close-guide" onclick="closeValidationGuide()">×</button>
      <h3>Validation Guide</h3>

      <div class="validation-section">
        <h4>Openreach Engineer</h4>
        <ul>
          <li><strong>EIN</strong></li>
          <li><strong>OUC</strong></li>
          <li><strong>Name</strong></li>
          <li><strong>Manager's Name</strong></li>
        </ul>
      </div>

      <div class="validation-section">
        <h4>Internal</h4>
        <ul>
          <li><strong>EIN</strong></li>
          <li><strong>Name</strong></li>
          <li><strong>Manager's Name</strong></li>
        </ul>
      </div>
    </div>

    <fieldset style="margin-top: 15px;">
      <legend><strong>Quick Links</strong></legend>

      <!-- Top 4 links -->
      <div class="quick-links-grid" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 30px;">
        <a href="broadband/index.html" target="_blank" rel="noopener noreferrer" class="quick-link">Broadband</a>
        <a href="https://www.bt.com/content/dam/bt/help/digital-voice/essential-phone/BT-Essential-Digital-Home-Phone-UserGuide.pdf" target="_blank" class="quick-link">Digital Voice Manual</a>
        <a href="tv/index.html" target="_blank" rel="noopener noreferrer" class="quick-link">TV</a>
        <a href="https://ee.co.uk/help/tv-sport/manage-use/channel-guide" target="_blank" class="quick-link" onclick="window.open('https://player.ee.co.uk/#/livetv/schedule', '_blank')">Channel Guide</a>
      </div>

      <!-- Directory centered -->
      <div style="text-align: center; margin-bottom: 15px;">
        <a href="https://directory.intra.bt.com/" target="_blank" class="quick-link" id="directoryLink">Directory</a>
      </div>

      <!-- Bottom 3 links -->
      <div class="quick-links-grid" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;">
        <a href="https://ee-wifi.ee.co.uk/public/ee/find/index.htm" target="_blank" class="quick-link">Hotspot Finder</a>
        <a href="https://ee.co.uk/help/mobile-coverage-checker" target="_blank" class="quick-link">Mobile Coverage Checker</a>
        <a href="https://www.openreach.com/fibre-checker" target="_blank" class="quick-link">FTTP Checker</a>
      </div>
    </fieldset>

    <fieldset style="margin-top: 15px;">
      <legend><strong>Order of Close</strong></legend>
      <ol style="margin: 10px 0; padding-left: 20px;">
        <li>Home View Door Button</li>
        <li>Albert Flow/Finished</li>
        <li>Consumer End Interaction with notes</li>
        <li>Advisor Hub/I'm All Done</li>
      </ol>
    </fieldset>
  </div>
</div>

</body>
</html>
